[
    {
        "change_date": 1770400804981.0,
        "changed_by": {
            "id": "cccccccc-cccc-cccc-cccc-cccccccccccc",
            "name": "Celonis",
            "type_": "APPLICATION"
        },
        "created_by": {
            "id": "cccccccc-cccc-cccc-cccc-cccccccccccc",
            "name": "Celonis",
            "type_": "APPLICATION"
        },
        "creation_date": 1770400804981.0,
        "data_connection_id": "b3c59e17-798d-49ea-b0b3-99d0bae2e011",
        "description": null,
        "disabled": null,
        "display_name": "DeliveryItem",
        "draft": null,
        "factory_id": "b50c93c0-95c1-46a0-83f0-95f2774dc759_b3c59e17-798d-49ea-b0b3-99d0bae2e011",
        "factory_validation_status": "NOT_VALIDATED",
        "has_user_template": null,
        "local_parameters": [
            {
                "name": "sourceSystem",
                "value": "''"
            }
        ],
        "namespace": "celonis",
        "target": {
            "entity_ref": {
                "name": "DeliveryItem",
                "namespace": "celonis"
            },
            "kind": "OBJECT"
        },
        "transformations": [
            {
                "change_sql_factory_datasets": [
                    {
                        "id": "CDPOS",
                        "type_": "SQL_FACTORY_DATA_SET",
                        "complete_overwrite": false,
                        "disabled": false,
                        "materialise_cte": false,
                        "overwrite": null,
                        "sql": "SELECT <%=sourceSystem%>  || 'DeliveryItem_' || \"CDPOS\".\"TABKEY\"     AS \"ObjectID\",\n\t<%=sourceSystem%>  || \"CDPOS\".\"TABKEY\" || \"CDPOS\".\"TABNAME\" || \"CDPOS\".\"FNAME\"\n       || \"CDPOS\".\"CHANGENR\" || \"CDPOS\".\"CHNGIND\"                    AS \"ID\",\n       CAST(\"CDHDR\".\"UDATE\" AS DATE) + CAST(\"CDHDR\".\"UTIME\" AS TIME) AS \"Time\",\n       CASE\n           WHEN \"CDPOS\".\"FNAME\" = 'GEWEI' THEN 'WeightUnit'\n           WHEN \"CDPOS\".\"FNAME\" = 'LFIMG' THEN 'Quantity'\n           WHEN \"CDPOS\".\"FNAME\" = 'LGORT' THEN 'StorageLocation'\n           WHEN \"CDPOS\".\"FNAME\" = 'MATWA' THEN 'MaterialGroup'\n           WHEN \"CDPOS\".\"FNAME\" = 'NTGEW' THEN 'NetWeight'\n           WHEN \"CDPOS\".\"FNAME\" = 'VOLEH' THEN 'VolumeUnit'\n           WHEN \"CDPOS\".\"FNAME\" = 'VOLUM' THEN 'Volume'\n           WHEN \"CDPOS\".\"FNAME\" = 'WERKS' THEN 'Plant'\n           END                                                       AS \"Attribute\",\n       CASE\n           WHEN \"CDPOS\".\"VALUE_OLD\" LIKE '%-' THEN CONCAT('-', REPLACE(LTRIM(\"CDPOS\".\"VALUE_OLD\"), '-', ''))\n           ELSE \"CDPOS\".\"VALUE_OLD\" END                              AS \"OldValue\",\n       CASE\n           WHEN \"CDPOS\".\"VALUE_NEW\" LIKE '%-' THEN CONCAT('-', REPLACE(LTRIM(\"CDPOS\".\"VALUE_NEW\"), '-', ''))\n           ELSE \"CDPOS\".\"VALUE_NEW\" END                              AS \"NewValue\",\n       'User_' || \"CDHDR\".\"MANDANT\" || \"CDHDR\".\"USERNAME\"            AS \"ChangedBy\",\n       \"CDHDR\".\"TCODE\"                                               AS \"OperationType\",\n       \"CDHDR\".\"CHANGENR\"                                            AS \"OperationID\",\n       CASE\n           WHEN \"USR02\".\"USTYP\" IN ('B', 'C') THEN 'Automatic'\n           ELSE 'Manual' END                                         AS \"ExecutionType\"\nFROM \"CDPOS\" AS \"CDPOS\"\n         LEFT JOIN \"CDHDR\" AS \"CDHDR\"\n                   ON \"CDPOS\".\"MANDANT\" = \"CDHDR\".\"MANDANT\"\n                       AND \"CDPOS\".\"OBJECTCLAS\" = \"CDHDR\".\"OBJECTCLAS\"\n                       AND \"CDPOS\".\"OBJECTID\" = \"CDHDR\".\"OBJECTID\"\n                       AND \"CDPOS\".\"CHANGENR\" = \"CDHDR\".\"CHANGENR\"\n                       AND \"CDPOS\".\"OBJECTCLAS\" = 'LIEFERUNG'\n         LEFT JOIN \"LIKP\" AS \"LIKP\"\n                   ON SUBSTRING(\"CDPOS\".\"TABKEY\", 1, 13) = \"LIKP\".\"MANDT\" || \"LIKP\".\"VBELN\"\n         LEFT JOIN \"USR02\" AS \"USR02\"\n                   ON \"CDHDR\".\"USERNAME\" = \"USR02\".\"BNAME\"\n                       AND \"CDHDR\".\"MANDANT\" = \"USR02\".\"MANDT\"\nWHERE \"CDPOS\".\"TABNAME\" = 'LIPS'\n  AND \"CDPOS\".\"FNAME\" IN ('GEWEI', 'LFIMG', 'LGORT', 'MATWA', 'NTGEW', 'VOLEH', 'VOLUM', 'WERKS')\n  AND \"CDPOS\".\"CHNGIND\" = 'U'\n  AND \"LIKP\".\"VBTYP\" = 'J'\n  AND \"CDPOS\".\"MANDANT\" IS NOT NULL\n  AND \"CDHDR\".\"MANDANT\" IS NOT NULL\n  AND \"LIKP\".\"MANDT\" IS NOT NULL\n"
                    }
                ],
                "foreign_key_names": [
                    "CreatedBy",
                    "Header",
                    "Material",
                    "Plant",
                    "SalesOrderItem"
                ],
                "namespace": "celonis",
                "property_names": [
                    "CreationExecutionType",
                    "CreationTime",
                    "DatabaseDeliveryItemNumber",
                    "DatabaseDeliveryNumber",
                    "ID",
                    "NetWeight",
                    "Quantity",
                    "QuantityUnit",
                    "SourceSystemInstance",
                    "SourceSystemType",
                    "StorageLocation",
                    "SystemDeliveryItemNumber",
                    "SystemDeliveryNumber",
                    "Volume",
                    "VolumeUnit",
                    "WeightUnit"
                ],
                "property_sql_factory_datasets": [
                    {
                        "id": "LIPS",
                        "type_": "SQL_FACTORY_DATA_SET",
                        "complete_overwrite": false,
                        "disabled": false,
                        "materialise_cte": false,
                        "overwrite": null,
                        "sql": "SELECT <%=sourceSystem%>  || 'DeliveryItem_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"VBELN\" || \"LIPS\".\"POSNR\" AS \"ID\",\n    CAST(\"LIPS\".\"ERDAT\" AS DATE) + CAST(\"LIPS\".\"ERZET\" AS TIME)                                    AS \"CreationTime\",\n\t<%=sourceSystem%>  || 'Delivery_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"VBELN\"                             AS \"Header\",\n\t<%=sourceSystem%>  || 'User_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"ERNAM\"                                 AS \"CreatedBy\",\n    CASE\n        WHEN \"USR02\".\"USTYP\" IN ('B', 'C') THEN 'Automatic'\n        ELSE 'Manual' END                                                                          AS \"CreationExecutionType\",\n    \"LIPS\".\"LFIMG\"                                                                                 AS \"Quantity\",\n    \"LIPS\".\"VRKME\"                                                                                 AS \"QuantityUnit\",\n    \"LIPS\".\"NTGEW\"                                                                                 AS \"NetWeight\",\n    \"LIPS\".\"GEWEI\"                                                                                 AS \"WeightUnit\",\n    \"LIPS\".\"VOLUM\"                                                                                 AS \"Volume\",\n    \"LIPS\".\"VOLEH\"                                                                                 AS \"VolumeUnit\",\n    \"LIPS\".\"LGORT\"                                                                                 AS \"StorageLocation\",\n    'SAP'                                                                                          AS \"SourceSystemType\",\n    \"LIPS\".\"MANDT\"                                                                                 AS \"SourceSystemInstance\",\n    \"LIPS\".\"VBELN\"                                                                                 AS \"SystemDeliveryNumber\",\n    \"LIPS\".\"POSNR\"                                                                                 AS \"SystemDeliveryItemNumber\",\n    \"LIPS\".\"VBELN\"                                                                                 AS \"DatabaseDeliveryNumber\",\n    \"LIPS\".\"POSNR\"                                                                                 AS \"DatabaseDeliveryItemNumber\",\n\t<%=sourceSystem%>  || CASE\n        WHEN \"LIPS\".\"VGTYP\" IN ('C', 'I') THEN\n            'SalesOrderItem_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"VGBEL\" || \"LIPS\".\"VGPOS\"\n        END                                                                                        AS \"SalesOrderItem\",\n\t<%=sourceSystem%>  || 'Material_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"MATNR\"                             AS \"Material\",\n\t<%=sourceSystem%>  || 'Plant_' || \"LIPS\".\"MANDT\" || \"LIPS\".\"WERKS\"                                AS \"Plant\"\nFROM \"LIPS\" AS \"LIPS\"\n         LEFT JOIN \"LIKP\" AS \"LIKP\"\n                   ON \"LIPS\".\"MANDT\" = \"LIKP\".\"MANDT\"\n                       AND \"LIPS\".\"VBELN\" = \"LIKP\".\"VBELN\"\n         LEFT JOIN \"USR02\" AS \"USR02\"\n                   ON \"LIPS\".\"ERNAM\" = \"USR02\".\"BNAME\"\n                       AND \"LIPS\".\"MANDT\" = \"USR02\".\"MANDT\"\nWHERE \"LIPS\".\"MANDT\" IS NOT NULL\n  AND \"LIKP\".\"VBTYP\" = 'J'\n"
                    }
                ],
                "relationship_transformations": []
            }
        ]
    }
]